local Player = game:GetService("Players").LocalPlayer
local RunService = game:GetService("RunService")
local UIS = game:GetService("UserInputService")

-- GUI
local gui = Instance.new("ScreenGui")
gui.name = "WallhopHack"
gui.ResetOnSpawn = false
gui.Parent = Player:WaitForChild("PlayerGui")

local button = Instance.new("TextButton")
button.Text = "‚≠ï WALLHOP: OFF"
button.Size = UDim2.new(0, 160, 0, 45)
button.Position = UDim2.new(0.5, -80, 0, 20)
button.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
button.TextColor3 = Color3.new(1, 1, 1)
button.Parent = gui

local toggle = false
local lastJump = 0
local cooldown = 0.35 -- –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –ø—Ä—ã–∂–∫–∞–º–∏
local jumpForce = Vector3.new(0, 138, 0) -- –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è —Å–∏–ª–∞
local pushForce = 105 -- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Ç–æ–ª—á–æ–∫

-- –ê–∫—Ç–∏–≤–∞—Ü–∏—è
button.MouseButton1Click:Connect(function()
    toggle = not toggle
    button.Text = toggle and "üî• WALLHOP: ON" or "‚≠ï WALLHOP: OFF"
end)

-- –ú–µ—Ö–∞–Ω–∏–∫–∞
RunService.Heartbeat:Connect(function()
    if toggle and Player.Character then
        local humanoid = Player.Character:FindFirstChild("Humanoid")
        local root = Player.Character:FindFirstChild("HumanoidRootPart")
        
        if humanoid and root and (tick() - lastJump) > cooldown then
            -- –î–µ—Ç–µ–∫—Ç —Å—Ç–µ–Ω —á–µ—Ä–µ–∑ Raycast
            local rightRayParams = RaycastParams.new()
            rightRayParams.FilterDescendantsInstances = {Player.Character}
            rightRayParams.FilterType = Enum.RaycastFilterType.Blacklist
            
            local rightRay = workspace:Raycast(
                root.Position,
                root.CFrame.RightVector * 4.2, -- –î–∏—Å—Ç–∞–Ω—Ü–∏—è –¥–æ —Å—Ç–µ–Ω—ã
                rightRayParams
            )
            
            local leftRay = workspace:Raycast(
                root.Position,
                root.CFrame.RightVector * -4.2,
                rightRayParams
            )

            -- –ï—Å–ª–∏ —Å—Ç–µ–Ω–∞ –Ω–∞–π–¥–µ–Ω–∞
            if rightRay or leftRay then
                -- –†–µ–∑–∫–∏–π –ø–æ–≤–æ—Ä–æ—Ç –Ω–∞ 45¬∞
                local angle = rightRay and -45 or 45
                root.CFrame = root.CFrame * CFrame.Angles(0, math.rad(angle), 0)
                
                -- –ü—Ä—ã–∂–æ–∫
                humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
                root.Velocity = jumpForce + (root.CFrame.LookVector * pushForce)
                lastJump = tick()
                
                -- –§–µ–π–∫–æ–≤—ã–µ –Ω–∞–∂–∞—Ç–∏—è –ø—Ä–æ–±–µ–ª–∞
                task.spawn(function()
                    for i = 1, 2 do -- –î–≤–æ–π–Ω–æ–π —Ç—Ä–∏–≥–≥–µ—Ä
                        game:GetService("VirtualInputManager"):SendKeyEvent(true, Enum.KeyCode.Space, false, nil)
                        task.wait(0.05)
                    end
                end)
            end
        end
    end
end)

-- –ê–Ω—Ç–∏-–∞—Ñ–∫ —Å–∏—Å—Ç–µ–º–∞
game:GetService("Players").LocalPlayer.Idled:Connect(function()
    game:GetService("VirtualUser"):ClickButton2(Vector2.new())
end)
